{% extends 'layout.twig' %}

{% block js %}
<script src="https://www.jsviews.com/download/jsrender.min.js"></script>
<script src="/js/intervals.js"></script>
{% endblock %}

{% block content %}
<header>
    <br><h1 class="title has-text-centered"></h1>
</header>
<article>
    <nav class="level"></nav>
    <section>
        <div class="container">
            <div class="level-right">
                <p class="level-item"><a id="new" class="button is-link">New</a></p>
            </div>

            <table id="list" class="table is-fullwidth">
                <thead>
                <tr>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Price</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="content">
                </tbody>
            </table>
            <div class="level-right">
                <p class="level-item"><a id="delete-all" class="button is-warning">Delete All</a></p>
            </div>

            <div id="addModal" class="modal">
                <div class="modal-background"></div>
                <div class="modal-content">
                    <form class="form" id="intervalForm">
                        <div class="field">
                            <label class="label">Start Date</label>
                            <div class="control">
                                <input class="input" type="date" name="start_date">
                            </div>
                            <p class="help is-danger" id="start_date_message"></p>
                        </div>
                        <div class="field">
                            <label class="label">End Date</label>
                            <div class="control">
                                <input class="input" type="date" name="end_date">
                            </div>
                            <p class="help is-danger" id="end_date_message"></p>
                        </div>
                        <div class="field">
                            <label class="label">Price</label>
                            <div class="control">
                                <input class="input" type="number" step="0.01" name="price">
                            </div>
                            <p class="help is-danger" id="price_message"></p>
                        </div>
                        <div class="field level-right">
                            <a class="button is-warning" id="cancel_btn" style="margin-right: 25px;">Cancel</a>
                            <a id="save" class="button is-info">Save</a>
                        </div>
                    </form>
                </div>
                <button class="modal-close is-large" aria-label="close"></button>
            </div>
        </div>
    </section>
    <br>
</article>

{% verbatim %}
<script id="listTemplate" type="text/x-jsrender">
{{for data}}
    <tr data-id = {{>id}}>
        <td data-field='start_date'>{{>start_date}}</td>
        <td data-field='end_date'>{{>end_date}}</td>
        <td data-field='price'>{{>price}}</td>
        <td>
        </td>
    </tr>
{{/for}}
</script>
{% endverbatim %}
{% endblock %}